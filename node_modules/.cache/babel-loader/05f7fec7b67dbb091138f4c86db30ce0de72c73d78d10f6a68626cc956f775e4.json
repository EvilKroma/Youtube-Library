{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import he from'he';// Importer la bibliothèque he\nimport'../App.css';// Assurez-vous que le chemin vers votre fichier CSS est correct\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const apiKey=\"AIzaSyDNZclk4gyX-z3Ii_lEj7FbqWhKiXx6-VY\";const channelId=\"UCWeg2Pkate69NFdBeuRFTAw\";const initialApiUrl=\"https://www.googleapis.com/youtube/v3/search?key=\".concat(apiKey,\"&channelId=\").concat(channelId,\"&part=snippet,id&order=date&maxResults=2\");const VideoList=()=>{const[videos,setVideos]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[selectedVideo,setSelectedVideo]=useState(null);const[error,setError]=useState(null);useEffect(()=>{axios.get(initialApiUrl).then(response=>{setVideos(response.data.items);}).catch(error=>{setError(error.message);});},[]);const handleSearch=event=>{event.preventDefault();const searchApiUrl=\"https://www.googleapis.com/youtube/v3/search?key=\".concat(apiKey,\"&q=\").concat(searchTerm,\"&part=snippet,id&maxResults=10\");axios.get(searchApiUrl).then(response=>{setSearchResults(response.data.items);}).catch(error=>{setError(error.message);});};const handleAddVideo=video=>{setVideos(prevVideos=>[...prevVideos,video]);setSearchResults([]);setSearchTerm('');};const handleRemoveVideo=videoId=>{const updatedVideos=videos.filter(video=>video.id.videoId!==videoId);setVideos(updatedVideos);};const handleVideoClick=videoId=>{console.log(\"Video clicked: \".concat(videoId));// Vérifiez la valeur de selectedVideo dans la console\nsetSelectedVideo(videoId);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-list-container\",children:[error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Erreur: \",error]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Rechercher des vid\\xE9os\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Rechercher\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video-list\",children:searchResults.map(video=>/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",onClick:()=>handleAddVideo(video),children:[/*#__PURE__*/_jsx(\"img\",{src:video.snippet.thumbnails.default.url,alt:video.snippet.title}),/*#__PURE__*/_jsx(\"h3\",{children:he.decode(video.snippet.title)}),\" \"]},video.id.videoId))}),/*#__PURE__*/_jsx(\"h2\",{children:\"Vid\\xE9os ajout\\xE9es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"added-videos\",children:videos.map(video=>/*#__PURE__*/_jsxs(\"div\",{className:\"added-video\",children:[/*#__PURE__*/_jsx(\"img\",{src:video.snippet.thumbnails.default.url,alt:video.snippet.title,onClick:()=>handleVideoClick(video.id.videoId)}),/*#__PURE__*/_jsx(\"h3\",{children:he.decode(video.snippet.title)}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveVideo(video.id.videoId),children:\"Supprimer\"})]},video.id.videoId))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video-player\",children:selectedVideo&&/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"100%\",src:\"https://www.youtube.com/embed/\".concat(selectedVideo),frameBorder:\"0\",allowFullScreen:true,title:\"YouTube Video Player\"})})]});};export default VideoList;","map":{"version":3,"names":["React","useEffect","useState","axios","he","jsxs","_jsxs","jsx","_jsx","apiKey","channelId","initialApiUrl","concat","VideoList","videos","setVideos","searchTerm","setSearchTerm","searchResults","setSearchResults","selectedVideo","setSelectedVideo","error","setError","get","then","response","data","items","catch","message","handleSearch","event","preventDefault","searchApiUrl","handleAddVideo","video","prevVideos","handleRemoveVideo","videoId","updatedVideos","filter","id","handleVideoClick","console","log","className","children","onSubmit","type","value","onChange","e","target","placeholder","map","onClick","src","snippet","thumbnails","default","url","alt","title","decode","width","height","frameBorder","allowFullScreen"],"sources":["C:/Users/deneu/Documents/Projets_code/Youtube-Library/myapp/src/components/VideoList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport he from 'he'; // Importer la bibliothèque he\r\nimport '../App.css'; // Assurez-vous que le chemin vers votre fichier CSS est correct\r\n\r\ninterface Video {\r\n    id: { videoId: string };\r\n    snippet: { title: string; thumbnails: { default: { url: string } } };\r\n}\r\n\r\nconst apiKey = \"AIzaSyDNZclk4gyX-z3Ii_lEj7FbqWhKiXx6-VY\";\r\nconst channelId = \"UCWeg2Pkate69NFdBeuRFTAw\";\r\nconst initialApiUrl = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&part=snippet,id&order=date&maxResults=2`;\r\n\r\nconst VideoList: React.FC = () => {\r\n    const [videos, setVideos] = useState<Video[]>([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [searchResults, setSearchResults] = useState<Video[]>([]);\r\n    const [selectedVideo, setSelectedVideo] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        axios.get(initialApiUrl)\r\n            .then((response) => {\r\n                setVideos(response.data.items);\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            });\r\n    }, []);\r\n\r\n    const handleSearch = (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        const searchApiUrl = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&q=${searchTerm}&part=snippet,id&maxResults=10`;\r\n        axios.get(searchApiUrl)\r\n            .then((response) => {\r\n                setSearchResults(response.data.items);\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            });\r\n    };\r\n\r\n    const handleAddVideo = (video: Video) => {\r\n        setVideos(prevVideos => [...prevVideos, video]);\r\n        setSearchResults([]);\r\n        setSearchTerm('');\r\n    };\r\n\r\n    const handleRemoveVideo = (videoId: string) => {\r\n        const updatedVideos = videos.filter(video => video.id.videoId !== videoId);\r\n        setVideos(updatedVideos);\r\n    };\r\n\r\n    const handleVideoClick = (videoId: string) => {\r\n        console.log(`Video clicked: ${videoId}`); // Vérifiez la valeur de selectedVideo dans la console\r\n        setSelectedVideo(videoId);\r\n    };\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <div className=\"video-list-container\">\r\n                {error && <p>Erreur: {error}</p>}\r\n                <form onSubmit={handleSearch}>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        placeholder=\"Rechercher des vidéos\"\r\n                    />\r\n                    <button type=\"submit\">Rechercher</button>\r\n                </form>\r\n                <div className=\"video-list\">\r\n                    {searchResults.map((video) => (\r\n                        <div key={video.id.videoId} className=\"video-container\" onClick={() => handleAddVideo(video)}>\r\n                            <img src={video.snippet.thumbnails.default.url} alt={video.snippet.title} />\r\n                            <h3>{he.decode(video.snippet.title)}</h3> {/* Utilisation de he.decode */}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <h2>Vidéos ajoutées</h2>\r\n                <div className=\"added-videos\">\r\n                    {videos.map((video) => (\r\n                        <div key={video.id.videoId} className=\"added-video\">\r\n                            <img\r\n                                src={video.snippet.thumbnails.default.url}\r\n                                alt={video.snippet.title}\r\n                                onClick={() => handleVideoClick(video.id.videoId)}\r\n                            />\r\n                            <h3>{he.decode(video.snippet.title)}</h3> {/* Utilisation de he.decode */}\r\n                            <button onClick={() => handleRemoveVideo(video.id.videoId)}>Supprimer</button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div className=\"video-player\">\r\n                {selectedVideo && (\r\n                    <iframe\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n                        frameBorder=\"0\"\r\n                        allowFullScreen\r\n                        title=\"YouTube Video Player\"\r\n                    ></iframe>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VideoList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}